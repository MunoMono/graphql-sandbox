/* src/components/styles/styles.scss */

/* Respect OS light/dark for native controls */
:root { color-scheme: light dark; }

/* -------------------------------------------
   Page rhythm
------------------------------------------- */
.cds-page {
  padding-block: var(--cds-spacing-07);
  padding-inline: var(--cds-spacing-07);
  background: var(--cds-background);
  color: var(--cds-text-primary);
  min-height: 100dvh;
}

/* Vertical stack spacing */
.cds-stack > * + * { margin-block-start: var(--cds-spacing-06); }

/* -------------------------------------------
   Cards & editor
------------------------------------------- */
.cds-card {
  background: var(--cds-layer);
  border: 1px solid var(--cds-border-subtle);
  border-radius: 0.5rem;
  padding: var(--cds-spacing-05);
  box-shadow: 0 1px 0 0 var(--cds-shadow-transparent),
              0 2px 4px 0 var(--cds-shadow);
}

.cds-editor {
  height: 360px;
  border: 1px solid var(--cds-border-subtle);
  background: var(--cds-layer);
  border-radius: 0.5rem;
  overflow: hidden;
}

/* Headings + subtle text */
.cds-heading { margin: 0 0 var(--cds-spacing-03) 0; color: var(--cds-text-primary); }
.cds-subtle  { color: var(--cds-text-secondary); }

/* -------------------------------------------
   Responsive image grid & tiles
------------------------------------------- */
.cds-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
  gap: var(--cds-spacing-04);
}

.cds-figure { margin: 0; }

.cds-card-tile {
  background: var(--cds-layer);
  border: 1px solid var(--cds-border-subtle);
  border-radius: 0.5rem;
  padding: var(--cds-spacing-03);
  box-shadow: 0 1px 0 0 var(--cds-shadow-transparent),
              0 2px 4px 0 var(--cds-shadow);
  transition: box-shadow 120ms ease, transform 120ms ease, border-color 120ms ease;
}
.cds-card-tile:hover {
  border-color: var(--cds-border-strong);
  box-shadow: 0 1px 0 0 var(--cds-shadow), 0 4px 12px 0 var(--cds-shadow);
  transform: translateY(-1px);
}

.cds-thumb {
  width: 100%;
  aspect-ratio: 4 / 3;
  object-fit: cover;
  border-radius: 0.375rem;
  background: var(--cds-layer-accent);
  display: block;
}
.cds-thumb--placeholder {
  display: grid;
  place-items: center;
  color: var(--cds-text-secondary);
  font-size: 12px;
}

.cds-figcaption {
  margin-top: var(--cds-spacing-03);
  color: var(--cds-text-secondary);
  font-size: 12px;
  line-height: 1.3;
}

/* -------------------------------------------
   Inputs & actions
------------------------------------------- */
.cds-controls {
  display: grid;
  gap: var(--cds-spacing-03);
  grid-template-columns: repeat(12, 1fr);
}
.cds-controls .half  { grid-column: span 6; }
.cds-controls .third { grid-column: span 3; }

.cds-actions {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-top: var(--cds-spacing-04);
  gap: var(--cds-spacing-04);
}

/* Divider */
.cds-divider {
  height: 1px;
  background: var(--cds-border-subtle);
  margin-block: var(--cds-spacing-05);
}

/* Raw JSON panel */
.cds-json {
  white-space: pre-wrap;
  border: 1px solid var(--cds-border-subtle);
  padding: var(--cds-spacing-04);
  max-height: 360px;
  overflow: auto;
  border-radius: 0.5rem;
  background: var(--cds-layer);
}

/* -------------------------------------------
   Mobile menu sheet
------------------------------------------- */
.app-sidenav {
  position: fixed; inset: 0; background: rgba(0,0,0,.4); z-index: 8000;
  display: flex; justify-content: flex-start; align-items: stretch;
}
.app-sidenav__panel {
  width: min(80vw, 320px);
  background: var(--cds-layer-01);
  border-right: 1px solid var(--cds-border-subtle);
  padding: 1rem;
  box-shadow: var(--cds-shadow-dropdown);
}

/* -------------------------------------------
   Tabs & bands (lite version imports)
------------------------------------------- */
@import './_cds-tabs-lite.scss';
@import './_header-lite.scss';
@import './_grid-lite.scss';
@import './_carbon-markdown-lite.scss';

/* -------------------------------------------
   Safety overrides so tab labels are visible
   (keeps layout stable; you can re-enable full-bleed later)
------------------------------------------- */
.tabs-band {
  background: var(--cds-layer);   /* instead of solid black for now */
  box-shadow: none;               /* remove full-bleed trick */
  clip-path: none;
}

.tabs-force-top .cds--tabs__nav-link {
  color: var(--cds-text-primary) !important; /* ensure readable in g100 */
  padding-block: .75rem !important;          /* comfortable hit area */
}

/* Optional: restore full-bleed look safely
.tabs-band {
  background: #000;
  box-shadow: 0 0 0 100vmax #000;
  clip-path: inset(0 -100vmax);
}
.tabs-force-top .cds--tabs__nav-link { color: #fff !important; }
*/

/* --- TAB VISIBILITY HOTFIX --- */
.tabs-band {
  background: var(--cds-layer);
  box-shadow: none;
  clip-path: none;
}

.tabs-force-top .cds--tabs { display: block !important; }
.tabs-force-top .cds--tabs__nav {
  display: flex !important;
  align-items: center;
  min-height: 3.25rem;        /* ensure bar has height */
  border-bottom: 1px solid var(--cds-border-subtle);
}

.tabs-force-top .cds--tabs__nav-link {
  position: relative;
  color: var(--cds-text-primary) !important;  /* readable in g100 */
  background: transparent !important;
  padding-block: 0.75rem !important;
  padding-inline: 1rem !important;
  border: 0 !important;
  box-shadow: none !important;
}
.tabs-force-top .cds--tabs__nav-item:first-child .cds--tabs__nav-link {
  padding-left: 0 !important; /* hug left edge */
}

.tabs-force-top .cds--tabs__slider,
.tabs-force-top .cds--tabs__selection-indicator { display: none !important; }